CREATE TABLE admin_users (username VARCHAR(64), p_word VARCHAR(64) NOT NULL, PRIMARY KEY(username)) ENGINE = INNODB;
CREATE TABLE majors (id INT AUTO_INCREMENT, major VARCHAR(32) NOT NULL, is_visible TINYINT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE project_allocations (project_id INT AUTO_INCREMENT, snum1 INT, snum2 INT, snum3 INT, snum4 INT, snum5 INT, snum6 INT, INDEX snum6_idx (snum6), INDEX snum1_idx (snum1), INDEX snum2_idx (snum2), INDEX snum3_idx (snum3), INDEX snum4_idx (snum4), INDEX snum5_idx (snum5), PRIMARY KEY(project_id)) ENGINE = INNODB;
CREATE TABLE projects (id INT AUTO_INCREMENT, title VARCHAR(64), organisation VARCHAR(64), description TEXT, has_additional_info TINYINT, major_ids VARCHAR(64), skill_set_ids VARCHAR(64), year INT NOT NULL, proj_num INT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE skill_sets (id INT AUTO_INCREMENT, area VARCHAR(64) NOT NULL, is_visible TINYINT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE student_prefs (snum INT, year INT NOT NULL, pass_fail_pm TINYINT, major_ids VARCHAR(32), gpa FLOAT(18, 2), proj_pref_1 INT, proj_pref_2 INT, proj_pref_3 INT, proj_pref_4 INT, proj_pref_5 INT, skill_set_ids VARCHAR(32), y_stu_pref_1 INT, y_stu_pref_2 INT, y_stu_pref_3 INT, y_stu_pref_4 INT, y_stu_pref_5 INT, n_stu_pref_1 INT, n_stu_pref_2 INT, n_stu_pref_3 INT, n_stu_pref_4 INT, n_stu_pref_5 INT, proj_just_1 TEXT, proj_just_2 TEXT, proj_just_3 TEXT, proj_just_4 TEXT, proj_just_5 TEXT, PRIMARY KEY(snum)) ENGINE = INNODB;
CREATE TABLE student_users (snum INT, p_word VARCHAR(64) NOT NULL, first_name VARCHAR(64), last_name VARCHAR(64), PRIMARY KEY(snum)) ENGINE = INNODB;
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum6_student_users_snum FOREIGN KEY (snum6) REFERENCES student_users(snum);
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum5_student_users_snum FOREIGN KEY (snum5) REFERENCES student_users(snum);
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum4_student_users_snum FOREIGN KEY (snum4) REFERENCES student_users(snum);
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum3_student_users_snum FOREIGN KEY (snum3) REFERENCES student_users(snum);
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum2_student_users_snum FOREIGN KEY (snum2) REFERENCES student_users(snum);
ALTER TABLE project_allocations ADD CONSTRAINT project_allocations_snum1_student_users_snum FOREIGN KEY (snum1) REFERENCES student_users(snum);
